<div class="w-full min-h-screen bg-[#f2f2f2] p-6 flex flex-col items-center gap-6" *ngIf="test && currentQuestion">
  
  <!-- Titre du test -->
  <h2 class="text-2xl font-bold text-black" style="font-family: Arial Black;">
    {{ test.name }}
  </h2>

  <!-- Bloc question -->
  <div class="w-full max-w-2xl bg-white border border-gray-300 rounded-2xl shadow p-6 flex flex-col gap-4">

    <!-- Infos sur la question -->
    <div class="font-semibold text-gray-800">
      Question {{ currentQuestionIndex + 1 }} / {{ questions.length }}
    </div>

    <div class="text-lg font-medium text-black">
      {{ currentQuestion.name }}
    </div>

    <!-- QCM -->
    <div *ngIf="currentQuestion.questionType === QuestionType.MULTIPLE_CHOICE"
         class="flex flex-col gap-3 mt-2">
      <label *ngFor="let answer of currentQuestion.answers ?? []" class="flex gap-2 items-center">
        <input type="radio"
               [value]="answer.id"
               [name]="currentQuestion.id"
               [(ngModel)]="responses[currentQuestion.id]"
               class="accent-red-600" />
        <span>{{ answer.text }}</span>
      </label>
    </div>

    <!-- Question ouverte -->
    <div *ngIf="currentQuestion.questionType === QuestionType.OPEN" class="mt-2">
      <textarea [(ngModel)]="responses[currentQuestion.id]"
                class="w-full p-3 rounded-[10px] border border-gray-300 bg-white focus:outline-none"
                rows="5"
                placeholder="Votre réponse..."></textarea>
    </div>

    <!-- Boutons navigation -->
    <div class="flex justify-between items-center mt-6">
      
      <!-- Précédent -->
      <button
        type="button"
        (click)="goToPrevious()"
        [disabled]="currentQuestionIndex === 0"
        class="font-semibold !bg-white !text-[#E31837] !border !border-[#E31837] hover:!bg-[#E31837] hover:!text-white transition duration-500 rounded-[10px] px-6 py-2 disabled:opacity-50 disabled:cursor-not-allowed">
        Précédent
      </button>

      <!-- Suivant -->
      <button
        type="button"
        *ngIf="currentQuestionIndex < questions.length - 1"
        (click)="goToNext()"
        class="font-semibold !bg-white !text-[#E31837] !border !border-[#E31837] hover:!bg-[#E31837] hover:!text-white transition duration-500 rounded-[10px] px-6 py-2">
        Suivant
      </button>

      <!-- Saisir mes infos -->
      <button
        type="button"
        *ngIf="currentQuestionIndex === questions.length - 1"
        (click)="openCandidatModal()"
        class="font-semibold !bg-white !text-[#E31837] !border !border-[#E31837] hover:!bg-[#E31837] hover:!text-white transition duration-500 rounded-[10px] px-6 py-2">
        Saisir mes infos
      </button>
    </div>
  </div>
</div>
